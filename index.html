<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>å­¦ä¿¡æ¡£æ¡ˆ - Demo</title>

  <style>
    :root{
      --green:#26b37a;
      --green2:#2fc08a;
      --bg:#f5f6f7;
      --text:#1f2328;
      --muted:#8b949e;
      --card:#ffffff;
      --shadow: 0 10px 24px rgba(0,0,0,.08);
    }

    *{
      box-sizing:border-box;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      font-weight:400;
    }
    a{color:inherit;text-decoration:none}

    /* Router (å…³é”®ä¿®å¤ï¼šé¡µé¢è¦†ç›–å¼ï¼Œä¸å†ä¸Šä¸‹å †å ) */
    .app{
      max-width:480px;
      margin:0 auto;
      position: relative;
      overflow: hidden;
      min-height: 100vh;
      background:var(--bg);
    }

    .page{
      position:absolute;
      inset:0;
      display:none;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
      background:var(--bg);
    }
    .page.active{display:block;}

    /* ---------------------------
       Common Topbar
    ---------------------------- */
    .topbar{
      background:var(--green);
      color:#fff;
      padding: calc(env(safe-area-inset-top) + 12px) 14px 14px;
      position:sticky;
      top:0;
      z-index:10;
    }
    .topbar-row{
      display:flex;
      align-items:center;
      gap:10px;
      position:relative;
    }
    .back-btn{
      width:36px;height:36px;
      display:grid;place-items:center;
      border-radius:10px;
      background:rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.25);
      cursor:pointer;
      flex:0 0 auto;
    }
    .back-btn:active{transform:scale(.98)}
    .topbar h1{
      margin:0;
      font-size:18px;
      font-weight:700;
      letter-spacing:.2px;
      flex:1;
      text-align:center;
      padding-right:36px;
    }

    .content{
      padding:14px;
      padding-bottom: calc(env(safe-area-inset-bottom) + 18px);
    }

    /* ---------------------------
       Login page
    ---------------------------- */
    #page-login{
      display:flex;
      justify-content:center;
    }

    .login-wrap{
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      display:flex;
      flex-direction:column;
      padding: clamp(26px, 6vh, 56px) 18px 22px;
      gap: clamp(14px, 2.6vh, 26px);
    }

    .brand{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-top:0;
    }
    .brand img{
      width:44px;height:44px;
      object-fit:contain;
    }
    .brand-text{
      font-size:42px;
      font-weight:900;
      letter-spacing:.2px;
    }

    .login-sub{
      margin:0;
      text-align:center;
      font-size:18px;
      color:#6b7280;
      letter-spacing:.2px;
    }

    .form{
      display:flex;
      flex-direction:column;
      gap:16px;
      margin-top:6px;
    }
    .input{
      width:100%;
      height:64px;
      font-size:18px;
      padding:0 18px;
      border-radius:14px;
      border:1px solid #d1d5db;
      outline:none;
      background:#fff;
    }
    .input:focus{
      border-color: rgba(38,179,122,.75);
      box-shadow: 0 0 0 4px rgba(38,179,122,.12);
    }
    .login-btn{
      height:66px;
      border-radius:14px;
      border:none;
      background:#5bb889;
      color:#fff;
      font-size:22px;
      font-weight:800;
      margin-top:6px;
      cursor:pointer;
    }
    .login-btn:active{transform:scale(.99)}

    .login-links{
      display:flex;
      justify-content:space-between;
      margin-top:2px;
      font-size:18px;
      color:#6b7280;
    }

    .login-footer{
      margin-top:auto;
      padding-top:10px;
      text-align:center;
      color:#9aa1aa;
      font-size:13px;
      line-height:1.6;
    }
    .login-footer .nav{
      display:flex;
      justify-content:center;
      gap:28px;
      color:#6b7280;
      font-size:16px;
      margin-bottom:10px;
    }

    /* ---------------------------
       Portal page
    ---------------------------- */
    .portal-topbar{
      background:var(--green);
      color:#fff;
      padding: calc(env(safe-area-inset-top) + 12px) 14px 14px;
      position:sticky;
      top:0;
      z-index:10;
    }
    .portal-row{
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .portal-title{
      font-size:18px;
      font-weight:800;
      letter-spacing:.4px;
    }

    .portal-card{
      background:#fff;
      border-radius:14px;
      box-shadow:0 6px 16px rgba(0,0,0,.06);
      padding:14px;
      margin-top:14px;
    }
    .portal-recommend{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .portal-recommend .left{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .portal-recommend .left .t{
      font-size:20px;
      font-weight:800;
    }
    .portal-recommend .left .sub{
      color:#6b7280;
      font-size:14px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:280px;
    }
    .portal-recommend .right{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:8px;
      flex:0 0 auto;
    }
    .badge{
      font-size:13px;
      color:#8b5cf6;
      background:#f3e8ff;
      border-radius:999px;
      padding:4px 10px;
      font-weight:700;
    }
    .go-btn{
      border:none;
      border-radius:999px;
      background:#2fb27a;
      color:#fff;
      font-weight:800;
      padding:10px 14px;
      cursor:pointer;
    }

    .portal-banner{
      margin-top:14px;
      background:linear-gradient(90deg,#cfe9ff,#e7f3ff);
      border-radius:14px;
      padding:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      box-shadow:0 6px 16px rgba(0,0,0,.06);
    }
    .portal-banner .b1{
      font-size:22px;
      font-weight:900;
      color:#1d4ed8;
      line-height:1.1;
    }
    .portal-banner .b2{
      margin-top:6px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      font-weight:800;
      color:#1d4ed8;
      background:rgba(29,78,216,.12);
      padding:6px 10px;
      border-radius:8px;
    }

    .grid{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:18px 12px;
      padding:10px 4px 0;
    }
    .grid-item{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      cursor:pointer;
      user-select:none;
    }
    .grid-icon{
      width:46px;height:46px;
      border-radius:14px;
      background:#eef2ff;
      display:grid;place-items:center;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
    }
    .grid-item span{
      font-size:14px;
      color:#111827;
      text-align:center;
      line-height:1.25;
    }

    .bottom-nav{
      position:sticky;
      bottom:0;
      background:#fff;
      border-top:1px solid #eef0f2;
      padding:10px 10px calc(env(safe-area-inset-bottom) + 10px);
      display:flex;
      justify-content:space-between;
      gap:10px;
    }
    .nav-item{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      font-size:12px;
      color:#9aa1aa;
    }
    .nav-item.active{
      color:var(--green);
      font-weight:800;
    }

    /* ---------------------------
       Home / Detail pages (ä½ çš„åŸæ ·å¼)
    ---------------------------- */
    .section{margin:14px 0 18px;}
    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      margin:0 2px 10px;
      gap:10px;
    }
    .section-title{font-size:18px;font-weight:700;letter-spacing:.2px;}
    .section-help{font-size:13px;color:#6b7280;white-space:nowrap;}
    .section-help a{color:var(--green);font-weight:600;}

    .edu-card{
      background:linear-gradient(90deg,var(--green),var(--green2));
      border-radius:18px;
      color:#fff;
      padding:18px 18px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
      min-height:118px;
      display:flex;
      align-items:center;
    }
    .edu-card .row{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      width:100%;
    }
    .edu-card .row > div:first-child{flex:1;min-width:0;}
    .edu-card .school{
      font-size:24px;
      font-weight:700;
      margin:0 0 10px;
      line-height:1.15;
      letter-spacing:.2px;
    }
    .edu-card .meta{
      font-size:15px;
      font-weight:400;
      opacity:.95;
      line-height:1.5;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      background:rgba(255,255,255,.16);
      border:1px solid rgba(255,255,255,.22);
      padding:6px 12px;
      border-radius:999px;
      font-size:14px;
      font-weight:600;
      white-space:nowrap;
      margin-top:2px;
    }
    .tap-hint{
      margin-top:10px;
      font-size:13px;
      font-weight:400;
      opacity:.75;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .tap-hint .dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.9);}

    .info-card{
      background:var(--card);
      border-radius:18px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
      padding:16px;
    }
    .empty-title{
      font-size:22px;
      font-weight:800;
      text-align:center;
      margin:8px 0 12px;
      letter-spacing:.2px;
    }
    .center{display:flex;justify-content:center;align-items:center;}
    .link-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid #e5e7eb;
      background:#fff;
      color:var(--green);
      font-weight:700;
      cursor:pointer;
    }
    .link-btn:active{transform:scale(.99)}
    .muted{color:#6b7280;font-size:13px;text-align:center;line-height:1.55;margin:0;}

    .banner{
      background:linear-gradient(90deg,#dfe7ff,#f1e6ff);
      border-radius:18px;
      padding:14px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .banner .t1{font-size:20px;font-weight:800;color:#2b2f36;margin:0;}
    .banner .t2{margin:6px 0 0;color:#4b5563;font-size:13px;line-height:1.4;}
    .illus{
      width:84px;height:56px;
      border-radius:14px;
      background:rgba(255,255,255,.65);
      display:grid;place-items:center;
      flex:0 0 auto;
      border:1px solid rgba(0,0,0,.05);
    }

    .profile-card{
      margin-top:12px;
      background:linear-gradient(90deg,var(--green),var(--green2));
      border-radius:18px;
      color:#fff;
      padding:16px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .profile-top{
      display:flex;
      gap:12px;
      align-items:center;
      position:relative;
      z-index:1;
    }
    .avatar{
      width:62px;height:78px;
      border-radius:10px;
      background:rgba(255,255,255,.15);
      border:1px solid rgba(255,255,255,.25);
      display:grid;place-items:center;
      overflow:hidden;
      flex:0 0 auto;
    }
    .avatar small{
      font-size:12px;
      opacity:.9;
      display:block;
      text-align:center;
      padding:6px;
    }
    .avatar img{width:100%;height:100%;object-fit:cover;display:block;}

    .name{
      font-size:24px;
      font-weight:700;
      margin:0 0 6px;
      letter-spacing:.2px;
    }
    .subline{
      opacity:.92;
      font-size:15px;
      font-weight:400;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin:0;
    }

    .profile-school{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      position:relative;
      z-index:1;
    }
    .profile-school .s1{
      font-size:26px;
      font-weight:800;
      margin:0;
      letter-spacing:.2px;
    }
    .profile-school .s2{
      margin:6px 0 0;
      opacity:.95;
      font-size:15px;
      font-weight:400;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .kv-card{
      margin-top:12px;
      background:#fff;
      border-radius:18px;
      padding:10px 14px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
    }
    .kv{
      display:grid;
      grid-template-columns: 1fr 1.55fr;
      gap:0;
      padding:12px 4px;
      border-bottom:1px solid #f0f1f2;
      align-items:center;
    }
    .kv:last-child{border-bottom:none}
    .k{color:#9aa1aa;font-size:15px;font-weight:400;}
    .v{color:#111827;font-size:17px;font-weight:600;letter-spacing:.2px;text-align:left;word-break:break-all;}

    .primary-btn{
      margin-top:14px;
      width:100%;
      border:none;
      background:var(--green);
      color:#fff;
      font-weight:800;
      font-size:18px;
      border-radius:14px;
      padding:14px 16px;
      box-shadow: 0 10px 20px rgba(38,179,122,.25);
      cursor:pointer;
    }
    .primary-btn:active{transform:scale(.99)}

    /* ---------------------------
       ç¼–è¾‘/æŸ¥çœ‹ï¼ˆä¸æ˜¾ç¤ºè¾“å…¥æ¡†ï¼‰
    ---------------------------- */
    .editable{
      display:inline-block;
      padding:2px 4px;
      border-radius:6px;
      outline:none;
    }
    /* ç¼–è¾‘æ¨¡å¼ä¸‹ç»™ä¸€ç‚¹ç‚¹æç¤ºï¼ˆå¾ˆè½»ï¼Œä¸åƒè¾“å…¥æ¡†ï¼‰ */
    .editing .editable{
      background: rgba(255,255,255,.16);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.25);
    }
    .editing .kv-card .editable{
      background: rgba(38,179,122,.06);
      box-shadow: inset 0 0 0 1px rgba(38,179,122,.15);
    }

    /* ç¼–è¾‘æ¨¡å¼ä¸‹ï¼šå¯æ›¿æ¢ç…§ç‰‡çš„æ¡†æœ‰ä¸€ç‚¹ç‚¹æç¤º */
    .editing .avatar-editable{
      outline: 2px dashed rgba(255,255,255,.45);
      outline-offset: 2px;
      cursor: pointer;
    }

    /* è¯¦æƒ…é¡µå³ä¸Šè§’éšè—å°æŒ‰é’®ï¼ˆåˆ‡æ¢ç¼–è¾‘/ä¿å­˜ï¼‰ */
    .edit-toggle{
      position:absolute;
      right:0;
      width:36px;height:36px;
      display:grid;place-items:center;
      border-radius:10px;
      background:rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.25);
      cursor:pointer;
      user-select:none;
      font-weight:900;
    }
    .edit-toggle:active{transform:scale(.98)}
    .edit-toggle span{font-size:16px;line-height:1;}
  </style>
</head>

<body>
  <div class="app">

    <!-- PAGE A: Login -->
    <section id="page-login" class="page active" aria-label="å­¦ä¿¡æ¡£æ¡ˆ-ç™»å½•">
      <div class="login-wrap">
        <div class="brand">
          <img src="./xuexin.png" alt="å­¦ä¿¡æ¡£æ¡ˆ" />
          <div class="brand-text">å­¦ä¿¡æ¡£æ¡ˆ</div>
        </div>

        <p class="login-sub">è¯·ä½¿ç”¨ å­¦ä¿¡ç½‘è´¦å· è¿›è¡Œç™»å½•</p>

        <div class="form">
          <input class="input" id="login-account" placeholder="è¯·è¾“å…¥è´¦å·" value="" />
          <input class="input" id="login-password" placeholder="å¯†ç " type="password" />
          <button class="login-btn" onclick="doLogin()">ç™»å½•</button>
        </div>

        <div class="login-links">
          <a href="javascript:void(0)" onclick="toast('æ‰¾å›å¯†ç ï¼ˆç¤ºä¾‹ï¼‰')">æ‰¾å›å¯†ç </a>
          <a href="javascript:void(0)" onclick="toast('æ³¨å†Œï¼ˆç¤ºä¾‹ï¼‰')">æ³¨å†Œ</a>
        </div>

        <div class="login-footer">
          <div class="nav">
            <span>é¦–é¡µ</span>
            <span>å¸®åŠ©ä¸­å¿ƒ</span>
            <span>è”ç³»æˆ‘ä»¬</span>
          </div>
          Copyright Â© 2003-2026 å­¦ä¿¡ç½‘ All Rights Reserved
        </div>
      </div>
    </section>

    <!-- PAGE B: Portal -->
    <section id="page-portal" class="page" aria-label="å­¦ä¿¡æ¡£æ¡ˆ-é¦–é¡µ">
      <header class="portal-topbar">
        <div class="portal-row">
          <button class="back-btn" aria-label="è¿”å›" onclick="goto('#/login')" style="position:absolute;left:0;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="portal-title">å­¦ä¿¡æ¡£æ¡ˆ</div>
        </div>
      </header>

      <main class="content">
        <div class="portal-card portal-recommend">
          <div class="left">
            <div class="t">ä¸“ä¸šæ¨è</div>
            <div class="sub">å—å¼€å¤§å­¦â€”ç”µå­ç§‘å­¦ä¸æŠ€æœ¯</div>
          </div>
          <div class="right">
            <div class="badge">ç´¯è®¡æŠ•ç¥¨ 1572</div>
            <button class="go-btn" onclick="toast('å»æ¨èï¼ˆç¤ºä¾‹ï¼‰')">å»æ¨è</button>
          </div>
        </div>

        <div class="portal-banner">
          <div>
            <div class="b1">é«˜æ ¡æ ¡å›­å­¦ä¹ çŠ¶å†µè°ƒæŸ¥</div>
            <div class="b2">ç«‹å³å‰å¾€ â–¶</div>
          </div>
          <div style="width:86px;height:56px;border-radius:12px;background:rgba(255,255,255,.75);display:grid;place-items:center;border:1px solid rgba(0,0,0,.06);">ğŸ«</div>
        </div>

        <div class="grid">
          <div class="grid-item" onclick="goto('#/home')">
            <div class="grid-icon">ğŸ“</div>
            <span>é«˜ç­‰æ•™è‚²ä¿¡æ¯</span>
          </div>
          <div class="grid-item" onclick="toast('åœ¨çº¿éªŒè¯æŠ¥å‘Šï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ›¡ï¸</div>
            <span>åœ¨çº¿éªŒè¯æŠ¥å‘Š</span>
          </div>
          <div class="grid-item" onclick="toast('å­¦å†å­¦ä½è®¤è¯ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ“„</div>
            <span>å­¦å†å­¦ä½è®¤è¯<br/>ä¸æˆç»©éªŒè¯</span>
          </div>

          <div class="grid-item" onclick="toast('å‡ºå›½æŠ¥å‘Šå‘é€ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ“</div>
            <span>å‡ºå›½ï¼ˆå¢ƒï¼‰æŠ¥å‘Š<br/>å‘é€</span>
          </div>
          <div class="grid-item" onclick="toast('æ¯•ä¸šè¯ä¹¦å›¾åƒæ ¡å¯¹ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ‘¤</div>
            <span>æ¯•ä¸šè¯ä¹¦å›¾åƒ<br/>æ ¡å¯¹</span>
          </div>
          <div class="grid-item" onclick="toast('å°±ä¸šï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ’¼</div>
            <span>å°±ä¸š</span>
          </div>

          <div class="grid-item" onclick="toast('å­¦æ ¡æ»¡æ„åº¦ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ™‚</div>
            <span>å­¦æ ¡æ»¡æ„åº¦</span>
          </div>
          <div class="grid-item" onclick="toast('ä¸ªäººæµ‹è¯„ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸ“‹</div>
            <span>ä¸ªäººæµ‹è¯„</span>
          </div>
          <div class="grid-item" onclick="toast('åŒåƒè®¡åˆ’ï¼ˆç¤ºä¾‹ï¼‰')">
            <div class="grid-icon">ğŸŸ¦</div>
            <span>â€œåŒåƒâ€è®¡åˆ’<br/>â€œå¾®ä¸“ä¸šâ€</span>
          </div>
        </div>
      </main>

      <div class="bottom-nav">
        <div class="nav-item active">ğŸ <div>é¦–é¡µ</div></div>
        <div class="nav-item">ğŸ“<div>å­¦ç±å­¦å†å­¦ä½</div></div>
        <div class="nav-item">ğŸ“‹<div>ä¸ªäººæµ‹è¯„</div></div>
        <div class="nav-item">ğŸ§³<div>æ±‚èŒæ‹›è˜</div></div>
        <div class="nav-item">ğŸ‘¤<div>æˆ‘çš„</div></div>
      </div>
    </section>

    <!-- PAGE 1: Your Home -->
    <section id="page-home" class="page" aria-label="é«˜ç­‰æ•™è‚²ä¿¡æ¯-é¦–é¡µ">
      <header class="topbar">
        <div class="topbar-row">
          <button class="back-btn" aria-label="è¿”å›" title="è¿”å›" onclick="goBack()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <h1>é«˜ç­‰æ•™è‚²ä¿¡æ¯</h1>
        </div>
      </header>

      <main class="content">
        <div class="section">
          <div class="section-head">
            <div class="section-title">å­¦ç±ä¿¡æ¯ï¼ˆ1ï¼‰</div>
            <div class="section-help">è¿˜æœ‰å­¦ç±æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Ÿ <a href="javascript:void(0)">å°è¯•ç»‘å®š</a></div>
          </div>

          <a class="edu-card" href="#/detail" role="button" aria-label="è¿›å…¥å­¦ç±ä¿¡æ¯è¯¦æƒ…">
            <div class="row">
              <div>
                <div class="school">å—å¼€å¤§å­¦</div>
                <div class="meta">
                  <span>ç”µå­ä¿¡æ¯ç§‘å­¦ä¸æŠ€æœ¯</span>
                  <span style="opacity:.8">ï½œ</span>
                  <span>æ™®é€šå…¨æ—¥åˆ¶</span>
                </div>
                <div class="tap-hint">
                  <span class="dot"></span><span>ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</span>
                </div>
              </div>
              <div class="pill">æœ¬ç§‘</div>
            </div>
          </a>
        </div>

        <div class="section">
          <div class="section-head">
            <div class="section-title">å­¦å†ä¿¡æ¯</div>
            <div class="section-help">è¿˜æœ‰å­¦å†æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Ÿ <a href="javascript:void(0)">å°è¯•ç»‘å®š</a></div>
          </div>

          <div class="info-card">
            <div class="empty-title">æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„å­¦å†ä¿¡æ¯</div>
            <div class="center">
              <button class="link-btn" onclick="toast('è¿™é‡Œå¯è·³è½¬åˆ°â€œæŸ¥çœ‹è§£å†³åŠæ³•â€')">
                æŸ¥çœ‹è§£å†³åŠæ³•
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M9 6l6 6-6 6" stroke="#26b37a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-head">
            <div class="section-title">å­¦ä½ä¿¡æ¯</div>
            <div class="section-help">è¿˜æœ‰å­¦ä½æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Ÿ <a href="javascript:void(0)">å°è¯•ç»‘å®š</a></div>
          </div>

          <div class="info-card">
            <div class="empty-title" style="font-size:20px;font-weight:800">æ‚¨è¿˜æœªç»‘å®šå­¦ä½ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨â€œå°è¯•ç»‘å®šå­¦ä½â€åŠŸèƒ½ç»‘å®šæ‚¨çš„å­¦ä½</div>
            <div class="center" style="margin-top:6px">
              <button class="link-btn" onclick="toast('è¿™é‡Œå¯è·³è½¬åˆ°â€œæç¤ºä¿¡æ¯â€')">
                æç¤ºä¿¡æ¯
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M9 6l6 6-6 6" stroke="#26b37a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-head">
            <div class="section-title">è€ƒç ”ä¿¡æ¯</div>
          </div>

          <div class="info-card">
            <div class="empty-title" style="font-weight:800">æ‚¨æ²¡æœ‰è€ƒç ”ä¿¡æ¯ï¼</div>
            <p class="muted">æ‚¨ç›®å‰æ²¡æœ‰è€ƒç ”ä¿¡æ¯ï¼Œç³»ç»Ÿæä¾›2006å¹´ä»¥æ¥å…¥å­¦çš„ç¡•å£«ç ”ç©¶ç”ŸæŠ¥åå’Œæˆç»©æ•°æ®ã€‚</p>
          </div>
        </div>
      </main>
    </section>

    <!-- PAGE 2: Your Detail -->
    <section id="page-detail" class="page" aria-label="å­¦ç±è¯¦æƒ…é¡µ">
      <header class="topbar">
        <div class="topbar-row">
          <button class="back-btn" aria-label="è¿”å›" title="è¿”å›" onclick="goBack()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <h1>é«˜ç­‰å­¦ç±</h1>

          <!-- å³ä¸Šè§’éšè—å°æŒ‰é’®ï¼šæŸ¥çœ‹/ç¼–è¾‘ -->
          <button class="edit-toggle" aria-label="ç¼–è¾‘/ä¿å­˜" onclick="toggleEdit()">
            <!-- é»˜è®¤æ˜¾ç¤ºâ€œç¼–è¾‘â€å›¾æ ‡ -->
            <svg id="editIconEdit" width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M12 20h9" stroke="white" stroke-width="2.2" stroke-linecap="round"/>
              <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"
                    stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

            <!-- ä¿å­˜å›¾æ ‡ï¼ˆå¯¹å‹¾ï¼‰ï¼Œé»˜è®¤éšè— -->
            <svg id="editIconSave" width="18" height="18" viewBox="0 0 24 24" fill="none" style="display:none">
              <path d="M20 6L9 17l-5-5" stroke="white" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>

        </div>
      </header>

      <main class="content">
        <div class="banner">
          <div>
            <p class="t1">èŒåœºå®ä¹ </p>
            <p class="t2">åé¦ˆå®ä¹ å›°æƒ‘ã€å®æˆ˜å¿ƒå¾—ä¸å»ºè®®ï¼Œå¸®å¤§å®¶å®ä¹ å°‘èµ°å¼¯è·¯</p>
          </div>
          <div class="illus" aria-hidden="true">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
              <path d="M4 18h16" stroke="#6b7280" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 17V8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v9" stroke="#6b7280" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 10h6" stroke="#6b7280" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
        </div>

        <div class="profile-card">
          <div class="profile-top">
            <!-- å½•å–ç…§ç‰‡ï¼ˆå¯æ›¿æ¢ï¼‰ -->
            <div class="avatar avatar-editable" title="å½•å–ç…§ç‰‡" onclick="pickPhoto('admission')">
              <img id="img-admission" src="./admission.jpg" alt="å½•å–ç…§ç‰‡"
                   onerror="this.style.display='none'; document.getElementById('txt-admission').style.display='block';">
              <small id="txt-admission" style="display:none;">å½•å–ç…§ç‰‡</small>
            </div>
            <input id="file-admission" type="file" accept="image/*" style="display:none" />

            <!-- å­¦ç±ç…§ç‰‡ï¼ˆå¯æ›¿æ¢ï¼‰ -->
            <div class="avatar avatar-editable" title="å­¦ç±ç…§ç‰‡" onclick="pickPhoto('xueji')"
                 style="background:rgba(255,255,255,.10)">
              <img id="img-xueji" src="" alt="å­¦ç±ç…§ç‰‡" style="display:none;">
              <small id="txt-xueji">å­¦ç±ç…§ç‰‡</small>
            </div>
            <input id="file-xueji" type="file" accept="image/*" style="display:none" />

            <div style="flex:1; position:relative; z-index:1;">
              <p class="name">
                <span class="editable" data-key="name">å¼ æµ·æˆ</span>
              </p>
              <p class="subline">
                <span class="editable" data-key="gender">ç”·</span>
                <span class="editable" data-key="birth">1999å¹´11æœˆ22æ—¥</span>
              </p>
            </div>
          </div>

          <div class="profile-school">
            <div>
              <p class="s1">
                <span class="editable" data-key="school">å—å¼€å¤§å­¦</span>
              </p>
              <p class="s2">
                <span class="editable" data-key="major">ç”µå­ç§‘å­¦ä¸æŠ€æœ¯</span>
                <span style="opacity:.8">ï½œ</span>
                <span class="editable" data-key="studyType">å…¨æ—¥åˆ¶</span>
              </p>
            </div>
            <div class="pill">
              <span class="editable" data-key="degree">æœ¬ç§‘</span>
            </div>
          </div>
        </div>

        <div class="kv-card">
          <div class="kv"><div class="k">æ°‘æ—</div><div class="v"><span class="editable" data-key="nation">æ±‰æ—</span></div></div>
          <div class="kv"><div class="k">è¯ä»¶å·ç </div><div class="v"><span class="editable" data-key="idno">371423199911225019</span></div></div>
          <div class="kv"><div class="k">å­¦åˆ¶</div><div class="v"><span class="editable" data-key="years">4 å¹´</span></div></div>
          <div class="kv"><div class="k">å­¦å†ç±»åˆ«</div><div class="v"><span class="editable" data-key="eduType">æ™®é€šé«˜ç­‰æ•™è‚²</span></div></div>
          <div class="kv"><div class="k">åˆ†é™¢</div><div class="v"><span class="editable" data-key="college">ç”µå­ä¿¡æ¯ä¸å…‰å­¦å·¥ç¨‹å­¦é™¢</span></div></div>
          <div class="kv"><div class="k">ç³»æ‰€</div><div class="v"><span class="editable" data-key="dept">â€”</span></div></div>
          <div class="kv"><div class="k">ç­çº§</div><div class="v"><span class="editable" data-key="class">â€”</span></div></div>
          <div class="kv"><div class="k">å­¦å·</div><div class="v"><span class="editable" data-key="sid">1120220209</span></div></div>
          <div class="kv"><div class="k">å…¥å­¦æ—¥æœŸ</div><div class="v"><span class="editable" data-key="start">2022å¹´09æœˆ06æ—¥</span></div></div>
          <div class="kv"><div class="k">å­¦ç±çŠ¶æ€</div><div class="v"><span class="editable" data-key="status">åœ¨ç±ï¼ˆæ³¨å†Œå­¦ç±ï¼‰</span></div></div>
          <div class="kv"><div class="k">é¢„è®¡æ¯•ä¸šæ—¥æœŸ</div><div class="v"><span class="editable" data-key="grad">2026å¹´06æœˆ30æ—¥</span></div></div>
        </div>

        <button class="primary-btn" onclick="toast('è¿™é‡Œå¯æ‰“å¼€â€œéªŒè¯æŠ¥å‘Šâ€ï¼ˆç¤ºä¾‹ä¸­ç”¨æç¤ºä»£æ›¿ï¼‰')">
          æŸ¥çœ‹éªŒè¯æŠ¥å‘Š
        </button>

      </main>
    </section>

  </div>

  <script>
    // ---------------------------
    // Router: 4 pages
    // ---------------------------
    const pages = {
      login: document.getElementById('page-login'),
      portal: document.getElementById('page-portal'),
      home: document.getElementById('page-home'),
      detail: document.getElementById('page-detail')
    };

    function goto(hash){
      location.hash = hash;
    }

    function renderRoute() {
      const hash = location.hash || "#/login";
      const route = hash.replace("#/", "");

      Object.values(pages).forEach(p => p.classList.remove("active"));

      if (route === "portal") pages.portal.classList.add("active");
      else if (route === "home") pages.home.classList.add("active");
      else if (route === "detail") pages.detail.classList.add("active");
      else pages.login.classList.add("active");
    }

    function goBack() {
      if (window.history.length > 1) {
        history.back();
        return;
      }
      const hash = location.hash || "#/login";
      const route = hash.replace("#/", "");
      if (route === "detail") goto("#/home");
      else if (route === "home") goto("#/portal");
      else if (route === "portal") goto("#/login");
      else toast("å·²ç»åœ¨é¦–é¡µ");
    }

    function doLogin(){
      goto("#/portal");
    }

    window.addEventListener("hashchange", renderRoute);
    renderRoute();

    // ---------------------------
    // Toast
    // ---------------------------
    let toastTimer = null;
    function toast(msg){
      clearTimeout(toastTimer);
      let t = document.getElementById("toast");
      if(!t){
        t = document.createElement("div");
        t.id = "toast";
        t.style.position = "fixed";
        t.style.left = "50%";
        t.style.bottom = "28px";
        t.style.transform = "translateX(-50%)";
        t.style.maxWidth = "92vw";
        t.style.background = "rgba(0,0,0,.78)";
        t.style.color = "#fff";
        t.style.padding = "10px 14px";
        t.style.borderRadius = "999px";
        t.style.fontSize = "13px";
        t.style.zIndex = "9999";
        t.style.opacity = "0";
        t.style.transition = "opacity .2s ease";
        document.body.appendChild(t);
      }
      t.textContent = msg;
      requestAnimationFrame(()=> t.style.opacity = "1");
      toastTimer = setTimeout(()=> t.style.opacity = "0", 1700);
    }

    // ---------------------------
    // æŸ¥çœ‹/ç¼–è¾‘ + ä¿å­˜ï¼ˆæ–‡å­—ï¼‰
    // ---------------------------
    let isEditing = false;

    function toggleEdit(){
      isEditing = !isEditing;
      document.body.classList.toggle("editing", isEditing);

      // è®©æ‰€æœ‰ editable å¯ç¼–è¾‘/ä¸å¯ç¼–è¾‘
      document.querySelectorAll(".editable").forEach(el=>{
        el.contentEditable = isEditing ? "true" : "false";
      });

      // å›¾æ ‡å˜åŒ–ï¼šç¼–è¾‘âœ / ä¿å­˜âœ“
      document.getElementById("editIconEdit").style.display = isEditing ? "none" : "block";
      document.getElementById("editIconSave").style.display = isEditing ? "block" : "none";


      if(!isEditing){
        saveDetail();
        toast("å·²ä¿å­˜");
      }else{
        toast("ç¼–è¾‘æ¨¡å¼å·²å¼€å¯");
      }
    }

    function saveDetail(){
      const data = {};
      document.querySelectorAll(".editable").forEach(el=>{
        const key = el.dataset.key;
        if(key) data[key] = el.textContent.trim();
      });
      localStorage.setItem("detail_text", JSON.stringify(data));
    }

    function loadDetail(){
      const raw = localStorage.getItem("detail_text");
      if(!raw) return;
      try{
        const data = JSON.parse(raw);
        document.querySelectorAll(".editable").forEach(el=>{
          const key = el.dataset.key;
          if(key && data[key] != null){
            el.textContent = data[key];
          }
        });
      }catch(e){}
    }

    // ---------------------------
    // ç…§ç‰‡æ›¿æ¢ï¼ˆå­¦ç±+å½•å–ï¼‰
    // ---------------------------
    function pickPhoto(type){
      if(!isEditing){
          // toast("");
        return;
      }
      const input = document.getElementById(`file-${type}`);
      if(!input) return;
      input.value = ""; // å…è®¸é‡å¤é€‰æ‹©åŒä¸€å¼ 
      input.click();
    }

    document.addEventListener("change", function(e){
      if(e.target.id === "file-xueji"){
        handlePhotoFile(e.target.files[0], "xueji");
      }
      if(e.target.id === "file-admission"){
        handlePhotoFile(e.target.files[0], "admission");
      }
    });

    function handlePhotoFile(file, type){
      if(!file) return;

      // ä½“ç§¯é™åˆ¶ï¼ˆlocalStorage æœ‰ä¸Šé™ï¼Œé˜²æ­¢ä¿å­˜å¤±è´¥ï¼‰
      if(file.size > 900 * 1024){
        toast("å›¾ç‰‡å¤ªå¤§ï¼Œè¯·æ¢ä¸€å¼ æ›´å°çš„ï¼ˆå»ºè®® <900KBï¼‰");
        return;
      }

      const reader = new FileReader();
      reader.onload = function(){
        const base64 = reader.result;

        const img = document.getElementById(`img-${type}`);
        const txt = document.getElementById(`txt-${type}`);

        if(img){
          img.src = base64;
          img.style.display = "block";
        }
        if(txt) txt.style.display = "none";

        localStorage.setItem(`photo_${type}`, base64);
        toast("ç…§ç‰‡å·²æ›¿æ¢");
      };
      reader.readAsDataURL(file);
    }

    function loadPhotos(){
      ["xueji","admission"].forEach(type=>{
        const base64 = localStorage.getItem(`photo_${type}`);
        if(base64){
          const img = document.getElementById(`img-${type}`);
          const txt = document.getElementById(`txt-${type}`);
          if(img){
            img.src = base64;
            img.style.display = "block";
          }
          if(txt) txt.style.display = "none";
        }
      });
    }

    window.addEventListener("load", ()=>{
      loadDetail();
      loadPhotos();

      // é»˜è®¤æŸ¥çœ‹æ¨¡å¼ï¼šç¡®ä¿ contentEditable æ˜¯å…³çš„
      document.querySelectorAll(".editable").forEach(el=> el.contentEditable = "false");
    });
  </script>
</body>
</html>
